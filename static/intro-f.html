<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="Mystyle.css">
  <title>Skillquiz</title>
</head>
<script>

  // This function gets the name and age from the html form 
  // Then the intro url/function is called to insert the user in the database
  // The calling the url returns the user id which is saved in localstorage
  function vnaam() {
    // Get name and age elements from the html and assign them to x and y
    var x = document.getElementById("vnaam").value;
    var y = document.getElementById("gender").value;
    var z = document.getElementById("age").value;
    // Call the URL that goes to the function intro() in python and give name and age as arguments in the url
    // We should probably change this to a relative path if that's possible?
    fetch("https://python-bigdata.azurewebsites.net/intro/" + x + "/" + y + "/" + z)
      // The then method will save the return value of intro() (the id) in the variable 'data'
      .then(res => res.text()).then(data => {
        // Here we set a new item in local storage
        // A local storage item is an key/value pair that is saved in the user's browser
        // The key is set to 'code' and the value is data (which is the id, the result of calling intro())
        console.log("test" + data);
        localStorage.setItem("id", data);
        localStorage.setItem("question", 2);
        paginaquiz1();
      })
  }
  function paginaquiz1() {
    onclick = window.location.href = 'quiz-f.html';
  }

    // function setlocalid(){
    //   let deid = 6; //uit het veld halen
    //   localStorage.setItem("hoidaar", deid)
    // }
    // function getlocalid(){
    //   alert(localStorage.getItem("hoidaar"))
    // }
</script>

<body>
  <div class="navbar_colour">
    <nav>
      <a style="font-family:Verdana" href="index-f.html" class="nav_button"><b>Skillquiz</b></a>
      <!-- <a style="font-family:Verdana" href="about-f.html" class="right_style">About</a> -->
    </nav>
    <hr>
  </div>
  <div>
    <div class="centreren">
      <br>
      <h1>Nice that you want to do the skill quiz!</h1>
    </div>
    <div class="blocktext">
      <p>Advice without charge and a sport based on
        your situation within 2 minutes<br><br>
        We would like to know you a little better before you start.
      </p>
    </div>
    <div class="centreren">
      <br>
      <input class="labelset" type="text" placeholder="Name" value="" id="vnaam"><br><br>
      <select class="dropbtn" type="text" id="gender">
        <option value="" disabled selected>Gender</option>
        <option value="woman">Woman</option>
        <option value="man">Man</option>
        <option value="other">Other</option>
      </select><br><br>
      <input class="labelset" type="number" required placeholder="Age" id="age"><br><br>
      <input type="button" onclick="vnaam()" class="startbutton startbutton:hover" value="Start">
    </div>
  </div>
</body>

</html>